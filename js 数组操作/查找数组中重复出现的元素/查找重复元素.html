<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
</head>
<body>
<script >
    function duplicates2(arr) {
        var a=arr.sort(),b=[];
        for(var i in a){
          /*  alert(i);
            alert(arr[i-1]);//i=0;arr[-1]为undefined*/
            if(a[i]==a[i-1] && b.indexOf(a[i])==-1)
                b.push(a[i]);
        }
        return b;
    }//先排序，如果后一个与前一个相等且未保存，则保存。
    console.log("方法一"+duplicates2([1, 2, 4, 4, 3, 3, 1, 5, 3]).sort()); //1,3,4


    function duplicates(arr) {
        var result=[];
        for(var i=0;i<arr.length;i++){
            for(var j=i+1;j<arr.length;j++){
                if(arr[i]==arr[j] &&result.indexOf(arr[i])==-1){
                    result.push(arr[i]);
                }
            }
        }
        console.log(arr);//1,2,4,4,3,3,1,5,3
        return result;
    }
    console.log("方法二"+duplicates([1, 2, 4, 4, 3, 3, 1, 5, 3]).sort()); //1,3,4

   function duplicates3(arr){
     return  arr.sort().filter(function(e,i){
         console.log(arr[i]===arr[i+1]);
           return arr[i]===arr[i+1]&&arr[i-1]!==arr[i]
       })
   }

    console.log("方法三"+duplicates3([1, 2, 4, 4, 3, 3, 1, 5, 3]).sort()); //1,3,4

    function duplicates4(arr) {
        arr.sort();
        var result=[];
        for(var i=0;i<arr.length;i++){
            if(arr[i]==arr[i+1] && result.indexOf(arr[i])==-1){
                result.push(arr[i]);
            }
        }
        return result;
    }
    console.log("方法四"+duplicates4([1, 2, 4, 4, 3, 3, 1, 5, 3]).sort()); //1,3,4

</script>

</body>
</html>